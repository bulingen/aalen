version: "3.9"
services:
  dev:
    image: foxpoint/eel-dev:foxy
    build:
      context: ..
      dockerfile: docker/Dockerfile
      target: dev
      args:
        - UID=${UID:-1000}
        - GID=${UID:-1000}
        - USERNAME=${USERNAME:-devuser}
    volumes:
      - ../src/:/eel/src/:rw
      - ../build/:/eel/build/:rw
      - ../install/:/eel/install/:rw
      - ../log/:/eel/log/:rw
      - ../../fleet/local_certs_and_config/:/home/ubuntu/fleet/local_certs_and_config/:r
    user: ${USERNAME:-devuser}
    command: sleep infinity
